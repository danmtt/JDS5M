<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tractor Controls Interactive Training - Main Menu</title>

    <!--- INLINE PATH CORRECTION SCRIPT -->
    <script>
        // --- START OF INLINE PATH CORRECTION SCRIPT ---
        (function() { // IIFE to avoid polluting global scope and run immediately
            const currentPagePath = window.location.pathname;
            const currentPageHref = window.location.href; // Use href for file:///

            // This check SHOULD be true on content pages
            const isNestedPage = currentPageHref.includes('/files/pages/');

            if (isNestedPage) {
                // This block SHOULD run on content pages
                console.log("Path Correction: Detected nested page:", currentPageHref);
                const rootRelativePrefixes = ['css/', 'js/', 'files/', 'index.html'];
                const filesRelativePrefixes = ['img/'];
                const fixPath = (element, attributeName) => {
                    if (!element || !element.hasAttribute(attributeName)) return;
                    let originalPath = element.getAttribute(attributeName);
                    if (!originalPath || originalPath.trim() === '' || /^(?:[a-zA-Z]+:|\/|\.\.\/|#|data:)/.test(originalPath)) return;
                    let newPath = originalPath; let pathCorrected = false;
                    if (rootRelativePrefixes.some(prefix => originalPath.startsWith(prefix))) { newPath = `../../${originalPath}`; pathCorrected = true; }
                    else if (filesRelativePrefixes.some(prefix => originalPath.startsWith(prefix))) { newPath = `../${originalPath}`; pathCorrected = true; }
                    if (pathCorrected) { element.setAttribute(attributeName, newPath); console.log(`Path Correction: Set ${attributeName} for ${element.tagName} to: ${newPath}`); }
                };
                try {
                    // Attempt to fix CSS path immediately if needed (if link tag comes after script)
                    document.querySelectorAll('link[rel="stylesheet"][href]').forEach(el => fixPath(el, 'href'));
                    // Cannot fix external scripts loaded AFTER this inline script reliably this way
                    // document.querySelectorAll('script[src]').forEach(el => fixPath(el, 'src'));
                    document.querySelectorAll('a[href]').forEach(el => fixPath(el, 'href'));
                    document.querySelectorAll('img[src]').forEach(el => fixPath(el, 'src'));
                    console.log("Path correction attempt finished.");
                } catch (error) { console.error("Path Correction: Error during path fixing:", error); }
            } else {
                 console.log("Path Correction: Not detected as a nested page, skipping corrections.");
            }
        })(); // End IIFE for path correction
    </script>
    <!-- END OF INLINE PATH CORRECTION SCRIPT -->
    
    <!-- Links to the external CSS file -->

        <!-- Android Browsers / Absolute Path. Follow this path to store the project correctly -->
        <!-- <link rel="stylesheet" href="file:///storage/emulated/0/My Projects/JDS5M_Controls Interactive Training_Project/css/styles.css"> -->

        <!-- Desktop Browsers / Relative Path -->
        <link rel="stylesheet" href="css/styles.css">

        <!-- Link loaded within an Android app's WebView -->
        <!-- <link rel="stylesheet" href="file:///android_asset/www/js/yourscript.js"> -->


</head>
<body>

    <!-- Consistent Header -->
    <h1 class="page-header">John Deere Tractor Series 5M - Controls Interactive Training</h1>

    <div class="nav-container">
        <ul class="nav-list">

            <!-- === First Main Option === -->
            <li>
                <button class="main-option-button" aria-expanded="false">
                    CAB
                </button>
                <ul class="submenu-content">
                    <!-- === EDIT Submenu Link Text and Verify href === -->
                    <li><a href="files/pages/section_01.html">Main Cabin Controls - Front / Rear</a></li>
                    <li><a href="files/pages/section_02.html">Right Console Controls</a></li>
                    <li><a href="files/pages/section_03.html">Section 3 Title</a></li>
                    <li><a href="files/pages/section_04.html">Section 4 Title</a></li>
                    <li><a href="files/pages/section_05.html">Section 5 Title</a></li>
                </ul>
            </li>

            <!-- === Second Main Option === -->
            <li>
                <button class="main-option-button" aria-expanded="false">
                    IOOS (Isolated Open Operator Station)
                </button>
                <ul class="submenu-content">
                    <!-- === EDIT Submenu Link Text and Verify href === -->
                    <li><a href="files/pages/section_06.html">Section 6 Title</a></li>
                    <li><a href="files/pages/section_07.html">Section 7 Title</a></li>
                    <li><a href="files/pages/section_08.html">Section 8 Title</a></li>
                    <li><a href="files/pages/section_09.html">Section 9 Title</a></li>
                    <li><a href="files/pages/section_10.html">Section 10 Title</a></li>
                </ul>
            </li>

             <!-- Add more main option list items here if needed -->

        </ul>
    </div>

    <!-- Links to the consolidated JavaScript file -->
    
        <!-- Android Browsers / Absolute Path. Follow this path to store the project correctly -->
        <!-- <script src="file:///storage/emulated/0/My Projects/JDS5M_Controls Interactive Training_Project/js/script.js"></script> -->

        <script src="js/script.js"></script>
    
        <!-- Link loaded within an Android app's WebView -->
        <!-- <script src="file:///android_asset/www/js/yourscript.js"></script> -->
    


</body>
</html>